<template id="weather-info">
  <h1>
    <img>
    Weather in <span id="city"></span>:
  </h1>
  <p>
    <span id="temperature"></span> - <span id="description"></span>
  </p>
</template>

<script>
  const tpl = (document.currentScript || document._currentScript).ownerDocument.querySelector('template').content

  class WeatherInfo extends HTMLElement {

    connectedCallback() {
      this.attachShadow({ mode: 'open' })
      const content = document.importNode(tpl, true)
      this.shadowRoot.appendChild(content)

      // initial load
    }

  }

  customElements.define('weather-info', WeatherInfo)
</script>
